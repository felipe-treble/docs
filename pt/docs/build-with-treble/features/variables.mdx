---
title: "Vari√°veis"
description: "As vari√°veis s√£o uma parte cr√≠tica do Treble. Elas permitem que voc√™ personalize mensagens e a√ß√µes em suas conversas. Al√©m disso, permitem que voc√™ armazene informa√ß√µes em seus sistemas de informa√ß√£o ou use em diferentes partes de um fluxo de conversa."
---

## O que s√£o vari√°veis?

As vari√°veis no Treble ajudam a armazenar e exibir informa√ß√µes em diferentes partes de um fluxo de conversa. As vari√°veis s√£o √∫teis quando voc√™ deseja:

- Exibir informa√ß√µes personalizadas em uma mensagem. Por exemplo, voc√™ pode exibir o nome do cliente em uma mensagem.
- Salvar informa√ß√µes para usar em diferentes partes de um fluxo de conversa. Por exemplo, voc√™ pode solicitar informa√ß√µes do cliente como seu n√∫mero de identifica√ß√£o (RG, CPF, etc.), e-mail ou idade.
- Personalizar o comportamento de um bloco. Por exemplo, voc√™ pode usar uma vari√°vel para determinar se um cliente deve ser transferido para um agente ou n√£o.
- Usar informa√ß√µes obtidas nas vari√°veis e salv√°-las em seu sistema de informa√ß√£o. Por exemplo, voc√™ pode salvar o n√∫mero de telefone do cliente em seu sistema de informa√ß√£o para que voc√™ possa us√°-lo em seu CRM.

As vari√°veis podem ser usadas em qualquer tipo de conversa (inbound, outbound) e em qualquer parte de um fluxo de conversa, incluindo blocos de texto, listas de op√ß√µes e a√ß√µes.

## Tipos de vari√°veis

Existem dois tipos de vari√°veis no Treble:

- **Vari√°veis personalizadas pela empresa**: S√£o vari√°veis onde voc√™ definir√° seu valor ao implantar seu fluxo de conversa. Essas s√£o vari√°veis onde voc√™ tem informa√ß√µes antes da intera√ß√£o do cliente. Alguns exemplos s√£o o nome do seu cliente, a data da √∫ltima compra ou o saldo da conta de um cliente.
- **Vari√°veis coletadas do cliente**: S√£o vari√°veis que s√£o configuradas para armazenar informa√ß√µes que o cliente fornece em seu fluxo de conversa. Alguns exemplos s√£o: pedir a idade do cliente, descrever um problema que o cliente tem ou pedir o endere√ßo de um cliente.

## Definindo vari√°veis

Toda vari√°vel tem a mesma estrutura:

- **Nome**: O nome da vari√°vel. Recomendamos usar nomes descritivos, curtos, em min√∫sculas, sem espa√ßos e sem caracteres especiais para que voc√™ possa identificar facilmente o prop√≥sito da vari√°vel. Exemplos: `nome_cliente`, `idade_cliente`, `endereco_cliente`.
- **Formato**: O formato da vari√°vel. Toda vari√°vel no Treble √© definida usando colchetes: `{{ }}`, por exemplo: `{{nome_cliente}}`.

Para definir uma vari√°vel, voc√™ s√≥ precisa adicion√°-la no bloco onde deseja us√°-la. Por exemplo, se voc√™ quiser usar a vari√°vel `nome_cliente` em uma mensagem, voc√™ s√≥ precisa adicion√°-la na mensagem.

<img src="/images/one-var.png" width="500" />

Neste caso, a vari√°vel `nome_cliente` ser√° usada na mensagem de boas-vindas. No entanto, voc√™ pode usar quantas vari√°veis precisar em um bloco:

<img src="/images/two-vars.png" width="500" />

Neste caso, temos as vari√°veis `{{email}}` e `{{data_ultima_compra}}` em um bloco onde queremos confirmar as informa√ß√µes do cliente.

## Exemplo de cria√ß√£o e implanta√ß√£o com vari√°veis

Vamos supor que temos o seguinte fluxo de conversa onde estamos cumprimentando o cliente pelo nome e depois queremos confirmar que suas informa√ß√µes no sistema, como seu e-mail e data da √∫ltima compra, est√£o corretas.

<img src="/images/example-variables.png" />

Clicamos em **Criar conversa**, temos a conversa criada e agora queremos implant√°-la para 3 clientes usando vari√°veis para personalizar as mensagens. Como fazemos isso?

Primeiro, devemos ter essas informa√ß√µes no sistema. Vamos supor que temos as seguintes informa√ß√µes em nosso sistema:

| Nome  | Email           | Data da √∫ltima compra |
|-------|----------------|----------------------|
| Jo√£o  | joao@gmail.com  | 2024-01-01           |
| Maria | maria@gmail.com | 2024-02-01           |
| Pedro | pedro@gmail.com | 2024-03-01           |

Como vimos na se√ß√£o <a class="article-link" href="/pt/docs/main-platform/send-convo"><p>Implantar uma conversa outbound</p><Icon icon="arrow-up-right-from-square" iconType="solid" /></a>, temos duas op√ß√µes para adicionar nossos usu√°rios:

### Adicionar usu√°rios manualmente

Adicionamos as informa√ß√µes dos usu√°rios, um por um, na se√ß√£o **Adicionar usu√°rios**. Aqui voc√™ ver√° campos de texto para adicionar as informa√ß√µes dos usu√°rios um por um.

<img src="/images/vars-save.png" alt="Adicionar usu√°rios manualmente" />

### Adicionar usu√°rios fazendo upload de um arquivo CSV

Fazemos upload de um arquivo CSV com as informa√ß√µes dos usu√°rios. Neste caso, o arquivo CSV deve ter a seguinte estrutura:

|cellphone   | country_code | nome_cliente    | email           | data_ultima_compra |
|------------|--------------|-----------------|-----------------|-------------------|
|1234567     | 58           | Jo√£o            | joao@gmail.com  | 2024-01-01        |
|1234568     | 58           | Maria           | maria@gmail.com | 2024-02-01        |
|1234569     | 58           | Pedro           | pedro@gmail.com | 2024-03-01        |

<Warning>Observe que os nomes das colunas devem corresponder aos nomes das vari√°veis que definimos no fluxo de conversa. <u>Nome do cliente</u> deve corresponder a `nome_cliente`, <u>Email</u> deve corresponder a `email`, e <u>Data da √∫ltima compra</u> deve corresponder a `data_ultima_compra`. Se n√£o corresponderem, a conversa n√£o ser√° enviada corretamente.</Warning>

<a class="article-link" href="/pt/docs/main-platform/send-convo#enviar-conversa-fazendo-upload-de-arquivo-csv"><p>Como fazer upload de um arquivo CSV?</p><Icon icon="arrow-up-right-from-square" iconType="solid" /></a>

## Vari√°veis em templates (HSMs)

A forma como as vari√°veis s√£o definidas em templates (HSMs) √© id√™ntica a como s√£o definidas nos blocos. Em templates, as vari√°veis tamb√©m s√£o definidas usando o formato `{{nome_variavel}}` e s√£o criadas como parte do conte√∫do do template.

<Card 
    title="Criar templates (HSMs) com vari√°veis" 
    icon="paper-plane"
    href="/pt/docs/meta/hsm-templates#personalizar-templates-hsm-com-variaveis"
>
    Aprenda como criar vari√°veis em templates (HSMs).
</Card>

## Vari√°veis para obter informa√ß√µes do cliente

Perfeito, agora sabemos como criar vari√°veis no Treble e preench√™-las com nossas informa√ß√µes. Mas como podemos obter informa√ß√µes do cliente?

Para obter informa√ß√µes do cliente, podemos acessar a configura√ß√£o avan√ßada dos blocos para <u>salvar a resposta do cliente como vari√°vel</u>. Para fazer isso, basta clicar duas vezes no bloco onde voc√™ deseja salvar a resposta do cliente como vari√°vel e depois clicar no bot√£o **Salvar resposta como vari√°vel**. Aqui voc√™ ver√° um campo para adicionar o nome da vari√°vel e pode escolher o tipo de vari√°vel que deseja salvar:

- **Texto**: Salva toda a resposta do cliente como texto.
- **N√∫mero**: Salva apenas a parte num√©rica da resposta do cliente. Por exemplo, se o cliente responde "ol√° meu n√∫mero √©: 12345", a vari√°vel salvar√° "12345".
- **Imagem**: Se o cliente enviar uma imagem, a vari√°vel salvar√° a URL da imagem.
- **Email**: Salva o e-mail do cliente. Se o cliente n√£o fornecer um e-mail, a vari√°vel salvar√° um valor vazio/nulo.
- **V√≠deo**: Salva a URL do v√≠deo do cliente.
- **Localiza√ß√£o**: Salva a localiza√ß√£o do cliente criando duas vari√°veis: `latitude` e `longitude`.
- **C√≥digo postal**: Salva o c√≥digo postal do cliente.
- **Contato**: Salva o n√∫mero de telefone do cliente.

<img src="/images/save-text.gif" alt="Salvar resposta como vari√°vel" />

Neste caso, salvamos a resposta do cliente ao bloco de boas-vindas como a vari√°vel `tipo_ajuda` e especificamos que o tipo de vari√°vel √© `TEXTO`.

Al√©m disso, tamb√©m podemos configurar o bloco para salvar a resposta do cliente como vari√°vel quando o bloco √© uma lista de op√ß√µes. Neste caso, a vari√°vel ser√° salva como o valor da op√ß√£o selecionada pelo cliente. Neste caso, o tipo de vari√°vel sempre ser√° `TEXTO`.

<img src="/images/save-options.gif" alt="Salvar resposta como vari√°vel" />

Neste caso, salvamos a resposta do cliente ao bloco de lista de op√ß√µes como a vari√°vel `resp_cliente`.

## Usando vari√°veis obtidas

Agora que salvamos a resposta do cliente como vari√°vel, como podemos usar essa informa√ß√£o em nosso fluxo de conversa? Como criamos as vari√°veis `tipo_ajuda` e `resp_cliente`, podemos usar essas vari√°veis em qualquer bloco de nosso fluxo de conversa. S√≥ precisamos adicion√°-las no bloco onde queremos usar a informa√ß√£o com seu formato: `{{tipo_ajuda}}` ou `{{resp_cliente}}`.

<img src="/images/use-vars.png" alt="Usar vari√°veis" />

Observe como:
- üü° `{{tipo_ajuda}}` √© usado no bloco de boas-vindas para mostrar a resposta do cliente. Representado pela seta amarela.
- üü¢ `{{resp_cliente}}` √© usado no bloco de lista de op√ß√µes para mostrar a resposta do cliente. Representado pela seta verde.
- üî¥ `{{nome_cliente}}` usamos esta vari√°vel novamente no pr√≥ximo bloco para mostrar o nome do cliente. Vamos preencher esta vari√°vel com informa√ß√µes do nosso sistema de informa√ß√£o.

<div class="hr"></div>

## Pr√≥ximos passos

<CardGroup cols={2}>
    <Card 
        title="Crie sua primeira conversa outbound" 
        icon="check"
        href="/pt/docs/intro-to-treble/outbound-convo"
    >
        Crie e envie sua primeira conversa outbound no Treble.
    </Card>
    <Card 
        title="Crie seu primeiro template (HSM)" 
        icon="code"
        href="/pt/docs/meta/hsm-templates"
    >
        Crie seu primeiro template (HSM) no Treble.
    </Card>
</CardGroup> 